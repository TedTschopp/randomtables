<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Random Generator</title>
	<script type="text/javascript" src="JS/generator.js"></script>
	<script type="text/javascript" src="tables/test_tables.js"></script>
	<script type="text/javascript" src="tables/warrior_data.js"></script>
	<!-- Utility Functions -->
	<script type="text/javascript" src="tables/utility.js"></script>


	<script type="text/javascript" src="tables/books.js"></script>
	<script type="text/javascript" src="tables/names.js"></script>
	<script type="text/javascript" src="tables/city.js"></script>
	<script type="text/javascript" src="tables/games.js"></script>
	<script type="text/javascript" src="tables/temples.js"></script>
	<script type="text/javascript" src="tables/treasure.js"></script>
	<script type="text/javascript" src="tables/dice.js"></script>
	<script type="text/javascript" src="tables/gods.js"></script>
	<script type="text/javascript" src="tables/statue.js"></script>
	<script type="text/javascript" src="tables/magical_item.js"></script>

	<!-- Occupations -->
	<script type="text/javascript" src="tables/occupations.js"></script>

	<!-- Names -->
	<script type="text/javascript" src="tables/names_Britian.js"></script>
	<script type="text/javascript" src="tables/names_Celtic.js"></script>
	<script type="text/javascript" src="tables/names_Dutch.js"></script>
	<script type="text/javascript" src="tables/names_Finnish.js"></script>
	<script type="text/javascript" src="tables/names_French.js"></script>
	<script type="text/javascript" src="tables/names_German.js"></script>
	<script type="text/javascript" src="tables/names_Germanic.js"></script>
	<script type="text/javascript" src="tables/names_Greek.js"></script>
	<script type="text/javascript" src="tables/names_Hungarian.js"></script>
	<script type="text/javascript" src="tables/names_Italian.js"></script>
	<script type="text/javascript" src="tables/names_Norse.js"></script>
	<script type="text/javascript" src="tables/names_Norwegian.js"></script>
	<script type="text/javascript" src="tables/names_Polish.js"></script>
	<script type="text/javascript" src="tables/names_Portuguese.js"></script>
	<script type="text/javascript" src="tables/names_Roman.js"></script>
	<script type="text/javascript" src="tables/names_Russian.js"></script>
	<script type="text/javascript" src="tables/names_Spanish.js"></script>

	<!-- Gamma World -->
	<script type="text/javascript" src="tables/Gamma_World.js"></script>
	<script type="text/javascript" src="tables/Robots.js"></script>
	
	<!-- Languages-->
	<script type="text/javascript" src="tables/dwarves.js"></script>
	<script type="text/javascript" src="tables/goblinoid.js"></script>

	<!-- My Current Work in Progress -->
	<script type="text/javascript" src="tables/Work-in-progress.js"></script>

	<style>
		pre {
		    white-space: pre-wrap;       /* Since CSS 2.1 */
		    word-wrap: break-word;       /* Internet Explorer 5.5+ */
		}
	</style>



</head>

<body>
	<form method="get" onsubmit="return false;">
		<div id="jsonContainer" class="json-container"></div>

		<script src="json-navigator.js"></script>
		
		<label>Loaded</label>
		<p><textarea id="loaded" cols="100" rows="10" readonly></textarea></p>
		<label>Input</label>
		<p><textarea id="input" cols="100" rows="10">{welcome_to_town}.</textarea></p>
		<label>Number</label>
		<p><input id="number" value="10"></p>
		<p><input type="button" value="Generate" onclick="more_random();" /></p>
		<label>Output</label><pre id="output"></pre>
		<label>Tables Used</label><span id="TableOutput"></span>

		<!--			<table>
						<tr>
							<th colspan="3">{table_name}</th>
						</tr>
						<tr>
							<th></th>
							<th></th>
							<th>Result
								<th>
						</tr>
						<table>-->

	</form>
	<script type="text/javascript">
			function getParameterByName(name, url) {
				if (!url) {
					url = window.location.href;
				}
				name = name.replace(/[\[\]]/g, "\\$&");
				var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
					results = regex.exec(url);
				if (!results) return null;
				if (!results[2]) return '';
				return decodeURIComponent(results[2].replace(/\+/g, " "));
			}
			function more_random() {
				var OutputField = document.getElementById("output");
				var URLField;
				if (URLField = getParameterByName('table')) {
					var InputField = "{" + URLField + "}";
					document.getElementById("input").value = InputField;
				} else {
					var InputField = document.getElementById("input").value;
				}
				var NumberToGenerate = document.getElementById("number").value;
				var LoadedFields = document.getElementById("loaded");
				LoadedFields.value = JSON.stringify(gen_data, null, 4);
				gen_data['main'] = [InputField];
				if (NumberToGenerate < 1) {
					NumberToGenerate = 1;
				}
				Output = generate_list("main", NumberToGenerate);
				OutputField.innerHTML = Output.join("\n")
			}
			more_random();
			
			// var myJSON = JSON.stringify(gen_data);
			// document.getElementById("TableOutput").innerHTML = myJSON;


	</script>
</body>

</html>
